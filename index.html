<!DOCTYPE html>
<html >
  <head>
    <meta charset="UTF-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
    <!-- <meta name="viewport" content="width=device-width"> -->
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0;"> -->
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
      <meta name="viewport" content="target-densitydpi=device-dpi, initial-scale=1.0, user-scalable=no" />



    <title>#ThisisAmerica - Global Citizen</title>

    <link rel="shortcut icon" href="https://static.globalcitizen.org/static/img/favicon.fb497794bcd4.ico"><link rel="apple-touch-icon" href="https://static.globalcitizen.org/static/img/phone-icon.32b1a56e58d9.png"><link rel="apple-touch-icon" sizes="120x120" href="https://static.globalcitizen.org/static/img/120-phone-icon.959744338ceb.png"><link rel="apple-touch-icon" sizes="152x152" href="https://static.globalcitizen.org/static/img/152-phone-icon.cddee36fd645.png"><link rel="apple-touch-icon" sizes="180x180" href="https://static.globalcitizen.org/static/img/180-phone-icon.1f80ef773293.png">


    <meta property="og:title" content="This is America"/>
    <!-- <meta property="og:type" content="article"/> -->
    <meta property="og:url" content="http://thisisamerica.globalcitizen.org/"/>
    <meta property="og:image" content="https://media.globalcitizen.org/thumbnails/ce/81/ce814795-f031-4acc-a5e4-88a097c80bd1/facebook-share.png__1500x670_q85_crop_subsampling-2.png"/>
    <!-- <meta property="og:site_name" content="My Company Name"/> -->
    <!-- <meta property="fb:app_id" content="1234567890987654321"/> -->
    <meta property="og:description" content="It’s time to show up and stand up for our values. It’s time to stand with immigrants and refugees. Join us in telling Washington and the world: #ThisIsAmerica. Because they are who we are: we are all Global Citizens."/>




    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css">

    <link rel='stylesheet prefetch' href='https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/themes/smoothness/jquery-ui.css'>

    <link rel='stylesheet prefetch' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css'>

    <link rel='stylesheet' href='css/style.css'>
     <!-- <link rel='stylesheet' href='css/fullpage.css'> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>

    <script src="js/blob.js"></script>

    <script src="js/canvas-toBlob.js"></script>

    <script src="js/FileSaver.js"></script>

    <script src="js/psd.min.js"></script>
    <!-- <script src="https://cdnjs.com/libraries/fullPage.js"></script> -->
	<script src="js/base64binary.js"></script>
	<script src="js/exif.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-33907097-18', 'auto');
    ga('send', 'pageview');

  </script>
  </head>
  <body>
    <header>
      <img src="./images/black_logo.png">
    </header>
    
    <div class="share-dialog">
      <div class="close">
        <img  src="./images/icons/ex.svg">
      </div>
      <div class="share-this">
        <!-- <p>Share your picture:</p> -->
        <p>Share my story. #ThisIsAmerica</p>
        
        <ul class="button-bank">
          <li><img onclick="shareOnFB();" class="social-button" src="./images/icons/facebook.svg"></li>
          <!-- <li><img class="social-button" src="./images/icons/email.svg"></li> -->
        </ul>
      </div>
      <div class="thanks">
        <p>Thanks for sharing</p>
        <img class="social-button" src="./images/icons/sweet_success.svg">
      </div>
    </div>
    
      <div class="square blur img_1-1 8 "></div>
    <div class="square-fixed">
      <img class="square blur img_1-1 8 eight" src="./images/lab-tech.jpg">
    </div>
     <!-- <div class="mobile-group"> -->
     <div class="mobile-group">
      <div class=" square img_1-2">
        <div class="first-phase">
          <p>Share Your Story</p>
          <p>with the World.</p>
          <!-- <img src="./images/black_camera.png"> -->
          <div class="get_started">
            <p>Get Started</p>
          </div>
        </div>
         <aside class="upload_magic">
          <div  class="second-phase">
            <div class="interaction-panel">
              <div class="carrot"></div>
              <form class="interaction-form" onsubmit="return jsMeme.file.export(), !1">
                <button>
                  <img class="fr interaction-button-two" src="./images/icons/upload.svg">
                </button>
                <!-- <img onclick="shareOnFB();" class="fr interaction-button-three" src="./images/icons/share.svg"> -->
                <img class="fr interaction-button-three" src="./images/icons/share.svg">
                <img class="fr interaction-button-one" onclick="return jsMeme.reset(), !1" src="./images/icons/redo.svg">
              </form>
            </div>
          </div>
        <div class="third-phase">
            <!-- <main> -->
          <div class="canvas-container">
            <canvas></canvas>
          </div>
          <div class="not-ready">
            <button class="dark">
              <!-- Choose an image file to get started -->
              <input class="drag-and-drop" type="file" accept="image/*;capture=camera" onchange="jsMeme.file.import(this)" />
              <div class="drag-and-drop-overlay">
                <img src="./images/camera_new.svg">
                <p class="drag-title"></p>
              </div>
            </button>

            <form class="main_input main_input_mask">
              <input autocomplete="new-password" id="first-input" type="text" placeholder="Artist."  name="line-1" />
              <input autocomplete="new-password" id="second-input" type="text" placeholder="Daughter." name="line-2" />
              <form id="example" name="example" value="" id="sensorText">
                <select id="sensor" onchange="updateText('sensor')">
                  <option class="option-1" value="Immigrant.">Immigrant.</option>
                  <option value="Refugee">Refugee</option>
                  <option value="Immigrant Roots">Immigrant Roots</option>
                  <option value="Native American">Native American</option>
                </select>
                <input id="third-input" type="hidden" placeholder="" name="line-3" />
                <img class="dropdown" src="./images/icons/dropdown.svg">
                <img class="logo-stamp" src="./images/white_logo.png">
              </form>
            </form>

             
          </div>
        <!-- </main> -->

         
          <!-- <form onsubmit="return jsMeme.file.export(), !1">
            <button class="fr" onclick="return jsMeme.reset(), !1">Reset</button>
            <button class="blue">Download Image</button>
          </form> -->
        </aside>

     

      <!-- <img class="watermark" src="./images/white_logo.png"> -->
      

        


      <!-- all the action happens here -->
      </div>
      <!-- <div class="mobile-square"> -->
        <div class=" square blur img_1-3 1"></div>
      <!-- </div> -->
      
        
      
        <div class=" square blur img_2-1 2"></div>
        <div class=" square blur img_2-2 3"></div>
        <div class=" square blur img_2-3 4"></div>
        <div class=" square blur img_3-1 5"></div>
        <div class=" square blur img_3-2 6"></div>
        <div class=" square blur img_3-3 7"></div>
      </div>

   <!-- </div> -->
    </div>
    <!-- <footer>
      
    </footer> -->
    <div id="bottom">

      <div class="black">
        <div class="float-left footer footer-1">
          <p>#ThisisAmerica</p>
        </div>
        <div class="footer-image footer footer-3">
          <a href="https://www.globalcitizen.org/en">
            <img src="./images/white_logo_stacked.png">
          </a>
        </div>
      </div>
       

       <!-- <a href="instagram://app">ggggg</a> -->

    
        <div class="brigade-footer">
          <div class="footer-left">
            <img src="./images/brigade-shield-white.svg">
            <p class="made-by"> Made by <a href="https://thisisthebrigade.com/">The Brigade</a></p>
          </div>
          <div class="footer-right">
            <ul>
              <li> <a href="https://www.globalcitizen.org/en/about/who-we-are/">Who We Are</a> </li>
              <li> <a href="https://www.globalcitizen.org/en/about/contact-us/">Contact</a> </li>
              <li> <a href="https://www.globalcitizen.org/en/impact/">Impact</a> </li>
            </ul>
          </div>

        </div>


        
 
      </div>

        <div class="mobile-footer">
          <div class="mfooter-1">
            <p>#ThisisAmerica</p>
            <a href="https://www.globalcitizen.org/en">
              <img src="./images/white_logo_stacked.png">
            </a>
          </div>
          <div class="mfooter-2">
            <div class="mobile-brigade-footer">
              <ul>
                <li> <a href="https://www.globalcitizen.org/en/about/who-we-are/">Who We Are</a> </li>
                <li> <a href="https://www.globalcitizen.org/en/about/contact-us/">Contact</a> </li>
                <li> <a href="https://www.globalcitizen.org/en/impact/">Impact</a> </li>
              </ul>
              <img src="./images/brigade-shield-white.svg">
              <p class="made-by"> Made by <a href="https://thisisthebrigade.com/">The Brigade</a></p>
            </div>
          </div>
        </div>


    <!-- <aside>
      <div class="drop">
        Drop an image file here
        <span>Accepted: JP(E)G, PNG, GIF, BMP, PSD</span>
        <input type="file" accept="image/*;capture=camera" onchange="jsMeme.file.import(this)" />
      </div>
      <button onclick="return jsMeme.file.rotate(-90), !1"><i class="fa fa-rotate-left"></i></button>
      <button onclick="return jsMeme.file.rotate(90), !1"><i class="fa fa-rotate-right"></i></button>
      <form>
        <h2>
          Occupation:
        </h2>
        <input id="first-input" type="text" placeholder="Type your first line..."  name="line-1" />
        <h2>
          Passion:
        </h2>
        <input id="second-input" type="text" placeholder="Type your second line..." name="line-2" />
        <form id="example" name="example" value="" id="sensorText">
          <select id="sensor" onchange="updateText('sensor')">
            <option value="IMMIGRANT">Immigrant</option>
            <option value="REFUGEE">Refugee</option>
          </select>
          <input id="third-input" type="hidden" placeholder="" name="line-3" />
        </form>
        <label><input type="text" size="14" placeholder="Image Size..." value="550" name="maximum-width" class="slider" min="200" max="1024" /> <em>Width: <span name="img-width">550px</span></em>
        </label>
      </form>
      <form onsubmit="return jsMeme.file.export(), !1">
        <button class="fr" onclick="return jsMeme.reset(), !1">Reset</button>
        <button class="blue">Download Image</button>
      </form>
    </aside>
    <main>
      <div class="canvas-container">
        <canvas></canvas>
      </div>
      <div class="not-ready">
        <button class="dark">
          Choose an image file to get started
          <input type="file" accept="image/*;capture=camera" onchange="jsMeme.file.import(this)" />
        </button>
      </div>
    </main> -->
    <script>
	
		  if ( XMLHttpRequest.prototype.sendAsBinary === undefined ) {
            XMLHttpRequest.prototype.sendAsBinary = function(string) {
                var bytes = Array.prototype.map.call(string, function(c) {
                    return c.charCodeAt(0) & 0xff;
                });
                this.send(new Uint8Array(bytes).buffer);
            };
        }
        
        (function(d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) return;
          js = d.createElement(s); js.id = id;
          js.src = "//connect.facebook.net/en_US/all.js";
          fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
        
        window.fbAsyncInit = function() {
            FB.init({
              appId  : "318978181833163",
              status : true,
              cookie : true,
              xfbml  : true  
            });
        };
        
        var postImageToFacebook = function(authToken,filename,mimeType,imageData,message) {

                var boundary = '----ASDFJKDSFJDSKFEQ#$3reqds341dfdsac34343';
          
                var formData = '--' + boundary + '\r\n';
                formData += 'Content-Disposition: form-data; name="source"; filename="' + filename + '"\r\n';
                formData += 'Content-Type: ' + mimeType + '\r\n\r\n';
                for ( var i = 0; i < imageData.length; ++i )
                {
                    formData += String.fromCharCode( imageData[ i ] & 0xff );
                }
                formData += '\r\n';
                formData += '--' + boundary + '\r\n';
                formData += 'Content-Disposition: form-data; name="message"\r\n\r\n';
                formData += message + '\r\n';
                formData += '--' + boundary + '--\r\n';
                var xhr = new XMLHttpRequest();
                xhr.open( 'POST', 'https://graph.facebook.com/me/photos?access_token=' + authToken, true );
                xhr.onload = xhr.onerror = function() {
                    console.log( xhr.responseText );
                };
                xhr.setRequestHeader( "Content-Type", "multipart/form-data; boundary=" + boundary );
                xhr.sendAsBinary( formData );
                
            };

        
        
        
          var shareOnFB = function() {
          var data = jsMeme.canvas.toDataURL("image/png");
            var encodedPng = data.substring(data.indexOf(',') + 1, data.length);
            var decodedPng = Base64Binary.decode(encodedPng);
            FB.getLoginStatus(function(response) {
              if (response.status === "connected") {
              postImageToFacebook(response.authResponse.accessToken, "this-is-america", "image/png", decodedPng, "");
              } else if (response.status === "not_authorized") {
               FB.login(function(response) {
                postImageToFacebook(response.authResponse.accessToken, "this-is-america", "image/png", decodedPng, "");
               }, {scope: "publish_actions"});
              } else {
               FB.login(function(response)  {
                postImageToFacebook(response.authResponse.accessToken, "this-is-america", "image/png", decodedPng, "");
               }, {scope: "publish_actions"});
              }
             });
         };


        

    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <script>
    $( document ).ready(function() {

});


    </script>
    <script src='https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js'></script>
    <script src="js/index.js"></script>
  </body>
</html>
